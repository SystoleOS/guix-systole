From 58ba538af1b2238154043094712abf14b25737c0 Mon Sep 17 00:00:00 2001
From: Rafael Palomar <rafael.palomar@ous-research.no>
Date: Fri, 27 Feb 2026 17:21:43 +0100
Subject: [PATCH] COMP: Add markups includes and LINK_DIRECTORIES for
 PathExplorer

---
 PathExplorer/CMakeLists.txt                         | 3 ++-
 PathExplorer/Logic/CMakeLists.txt                   | 2 ++
 PathExplorer/MRML/CMakeLists.txt                    | 4 ++--
 PathExplorer/SubjectHierarchyPlugins/CMakeLists.txt | 1 +
 PathExplorer/Widgets/CMakeLists.txt                 | 2 ++
 5 files changed, 9 insertions(+), 3 deletions(-)

diff --git a/PathExplorer/CMakeLists.txt b/PathExplorer/CMakeLists.txt
index 9332e9a..c30443b 100644
--- a/PathExplorer/CMakeLists.txt
+++ b/PathExplorer/CMakeLists.txt
@@ -38,7 +38,8 @@ set(MODULE_INCLUDE_DIRECTORIES
   ${CMAKE_CURRENT_BINARY_DIR}/Logic
   ${CMAKE_CURRENT_SOURCE_DIR}/Widgets
   ${CMAKE_CURRENT_BINARY_DIR}/Widgets
-  ${qSlicerMarkupsModuleWidgets_INCLUDE_DIRS} 
+  ${qSlicerMarkupsModuleWidgets_INCLUDE_DIRS}
+  ${vtkSlicerMarkupsModuleMRML_INCLUDE_DIRS}
   ${qSlicerSubjectHierarchyModuleWidgets_INCLUDE_DIRS}
   ${qSlicerPathExplorerSubjectHierarchyPlugins_INCLUDE_DIRS}
   )
diff --git a/PathExplorer/Logic/CMakeLists.txt b/PathExplorer/Logic/CMakeLists.txt
index 8e9bd17..368bad7 100644
--- a/PathExplorer/Logic/CMakeLists.txt
+++ b/PathExplorer/Logic/CMakeLists.txt
@@ -5,6 +5,7 @@ set(KIT ${PROJECT_NAME})
 set(${KIT}_EXPORT_DIRECTIVE "VTK_SLICER_${MODULE_NAME_UPPER}_MODULE_LOGIC_EXPORT")
 
 set(${KIT}_INCLUDE_DIRECTORIES
+  ${vtkSlicerMarkupsModuleMRML_INCLUDE_DIRS}
   )
 
 set(${KIT}_SRCS
@@ -24,4 +25,5 @@ SlicerMacroBuildModuleLogic(
   INCLUDE_DIRECTORIES ${${KIT}_INCLUDE_DIRECTORIES}
   SRCS ${${KIT}_SRCS}
   TARGET_LIBRARIES ${${KIT}_TARGET_LIBRARIES}
+  LINK_DIRECTORIES ${EXTRA_MODULE_LIB_DIRS}
   )
diff --git a/PathExplorer/MRML/CMakeLists.txt b/PathExplorer/MRML/CMakeLists.txt
index 8c3fcfe..c7c0fee 100644
--- a/PathExplorer/MRML/CMakeLists.txt
+++ b/PathExplorer/MRML/CMakeLists.txt
@@ -5,8 +5,7 @@ set(KIT ${PROJECT_NAME})
 set(${KIT}_EXPORT_DIRECTIVE "VTK_SLICER_${MODULE_NAME_UPPER}_MODULE_MRML_EXPORT")
 
 set(${KIT}_INCLUDE_DIRECTORIES
-  #${vtkSlicerMarkupsModuleMRML_SOURCE_DIR}
-  #${vtkSlicerMarkupsModuleMRML_BINARY_DIR}
+  ${vtkSlicerMarkupsModuleMRML_INCLUDE_DIRS}
   )
 
 set(${KIT}_SRCS
@@ -27,5 +26,6 @@ SlicerMacroBuildModuleMRML(
   INCLUDE_DIRECTORIES ${${KIT}_INCLUDE_DIRECTORIES}
   SRCS ${${KIT}_SRCS}
   TARGET_LIBRARIES ${${KIT}_TARGET_LIBRARIES}
+  LINK_DIRECTORIES ${EXTRA_MODULE_LIB_DIRS}
   )
 
diff --git a/PathExplorer/SubjectHierarchyPlugins/CMakeLists.txt b/PathExplorer/SubjectHierarchyPlugins/CMakeLists.txt
index afc243a..5bf6697 100644
--- a/PathExplorer/SubjectHierarchyPlugins/CMakeLists.txt
+++ b/PathExplorer/SubjectHierarchyPlugins/CMakeLists.txt
@@ -53,4 +53,5 @@ SlicerMacroBuildModuleQtLibrary(
   TARGET_LIBRARIES ${${KIT}_TARGET_LIBRARIES}
   RESOURCES ${${KIT}_RESOURCES}
   WRAP_PYTHONQT
+  LINK_DIRECTORIES ${EXTRA_MODULE_LIB_DIRS}
   )
diff --git a/PathExplorer/Widgets/CMakeLists.txt b/PathExplorer/Widgets/CMakeLists.txt
index 177e7ee..fa59d27 100644
--- a/PathExplorer/Widgets/CMakeLists.txt
+++ b/PathExplorer/Widgets/CMakeLists.txt
@@ -5,6 +5,7 @@ set(KIT ${PROJECT_NAME})
 set(${KIT}_EXPORT_DIRECTIVE "Q_SLICER_MODULE_${MODULE_NAME_UPPER}_WIDGETS_EXPORT")
 
 set(${KIT}_INCLUDE_DIRECTORIES
+  ${vtkSlicerMarkupsModuleMRML_INCLUDE_DIRS}
   )
 
 set(${KIT}_SRCS
@@ -39,5 +40,6 @@ SlicerMacroBuildModuleWidgets(
   TARGET_LIBRARIES ${${KIT}_TARGET_LIBRARIES}
   RESOURCES ${${KIT}_RESOURCES}
   WRAP_PYTHONQT
+  LINK_DIRECTORIES ${EXTRA_MODULE_LIB_DIRS}
   )
 
-- 
2.52.0

